[gd_scene load_steps=14 format=3 uid="uid://jpq5aydc2yf5"]

[ext_resource type="Script" uid="uid://coxeexgx1hiyc" path="res://scripts/character_controller.gd" id="1_3vyb7"]
[ext_resource type="Material" uid="uid://bd601buy20abf" path="res://resources/player_color_swap_shader.tres" id="3_dqkch"]
[ext_resource type="PackedScene" path="res://scenes/clown_player.tscn" id="3_qhqgy"]
[ext_resource type="Texture2D" uid="uid://c850s4q73an8l" path="res://Art/2d art/puffball.png" id="4_dqkch"]

[sub_resource type="ViewportTexture" id="ViewportTexture_qhqgy"]
viewport_path = NodePath("SubViewport")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8alpp"]
albedo_color = Color(0.2491, 0.36145994, 0.53, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_klq6b"]
material = SubResource("StandardMaterial3D_8alpp")

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_b121j"]

[sub_resource type="Curve" id="Curve_dqkch"]
_data = [Vector2(0.020304576, 0.91698116), 0.0, 1.4727662, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_qlg0r"]
curve = SubResource("Curve_dqkch")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_dqkch"]
direction = Vector3(0, 1, 0)
spread = 44.628
initial_velocity_max = 7.0
gravity = Vector3(0, 0, 0)
linear_accel_min = -2.2351742e-06
linear_accel_max = -2.2351742e-06
damping_min = 17.255001
damping_max = 17.255001
scale_curve = SubResource("CurveTexture_qlg0r")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qlg0r"]
transparency = 1
albedo_texture = ExtResource("4_dqkch")

[sub_resource type="PlaneMesh" id="PlaneMesh_tuyoq"]
material = SubResource("StandardMaterial3D_qlg0r")
size = Vector2(1, 1)
orientation = 2

[node name="Player" type="CharacterBody3D"]
script = ExtResource("1_3vyb7")

[node name="Sprite3D" type="Sprite3D" parent="."]
texture = SubResource("ViewportTexture_qhqgy")

[node name="SubViewport" type="SubViewport" parent="."]
disable_3d = true
transparent_bg = true
size = Vector2i(128, 256)

[node name="ProgressBar" type="ProgressBar" parent="SubViewport"]
modulate = Color(0, 1, 0.95000005, 1)
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 16.0
grow_horizontal = 2
max_value = 1.0
value = 1.0
show_percentage = false

[node name="Node3D" type="Node3D" parent="."]

[node name="ClownPlayer" parent="Node3D" instance=ExtResource("3_qhqgy")]
transform = Transform3D(-0.25, 0, 2.1855694e-08, 0, 0.25, 0, -2.1855694e-08, 0, -0.25, 0, -1, 0)

[node name="Skeleton3D" parent="Node3D/ClownPlayer/rig" index="1"]
bones/2/position = Vector3(0, 0.0911459, 2.0104518)
bones/8/rotation = Quaternion(-4.6566124e-09, 5.2154064e-08, -7.450582e-09, 1)
bones/8/scale = Vector3(1, 0.99999976, 1.0000001)
bones/9/rotation = Quaternion(-3.0793778e-08, -4.297718e-08, 0.2839453, 0.9588405)
bones/14/position = Vector3(2.012315e-08, 0.7911185, 1.5425407e-07)
bones/14/rotation = Quaternion(0.66519314, 0.6969662, -0.17565957, 0.20223732)
bones/16/rotation = Quaternion(0.6651929, 0.6969663, -0.17565964, -0.20223767)
bones/24/rotation = Quaternion(-1.5832484e-08, 5.0291415e-08, -9.3132035e-10, 1)
bones/24/scale = Vector3(0.99999994, 0.99999976, 1.0000002)
bones/26/rotation = Quaternion(-0.0030265623, -0.19837742, 0.0006125149, 0.98012084)
bones/26/scale = Vector3(0.31622767, 10.000003, 0.3162278)
bones/27/rotation = Quaternion(7.598441e-10, -2.4891383e-08, 0.28394526, 0.9588406)
bones/27/scale = Vector3(1.0000001, 0.99999976, 0.99999976)
bones/28/rotation = Quaternion(-1.8626451e-08, 1.8626451e-08, -2.5145706e-08, 1)
bones/28/scale = Vector3(1, 1, 1)
bones/29/rotation = Quaternion(1.3969841e-08, 2.2351742e-08, -5.1222738e-08, 1)
bones/30/rotation = Quaternion(-5.3777686e-08, -3.4242685e-08, 0.2839453, 0.9588405)
bones/33/rotation = Quaternion(-2.2351738e-08, -3.725291e-07, -6.053598e-08, 1)
bones/33/scale = Vector3(1, 0.9999997, 0.99999994)
bones/34/rotation = Quaternion(3.5290295e-08, -2.0276323e-08, -0.28394505, 0.95884055)
bones/34/scale = Vector3(0.99999976, 1, 0.9999997)
bones/35/rotation = Quaternion(-8.381901e-09, -3.585592e-07, -9.313227e-08, 1)
bones/36/rotation = Quaternion(1.7564671e-08, -2.765408e-08, -0.28394505, 0.95884067)
bones/41/position = Vector3(-1.4728242e-07, 0.7911186, 2.55565e-07)
bones/41/rotation = Quaternion(-0.66519314, 0.69696635, -0.17565934, -0.20223707)
bones/51/rotation = Quaternion(-9.31322e-09, -3.7252906e-07, -1.2386593e-07, 1)
bones/51/scale = Vector3(1.0000001, 0.9999997, 0.99999994)
bones/53/rotation = Quaternion(-0.003026338, 0.19837214, -0.0006126264, 0.9801219)
bones/53/scale = Vector3(0.31622767, 10.000006, 0.31622767)
bones/54/rotation = Quaternion(4.3292676e-08, -1.2933092e-08, -0.28394502, 0.95884067)
bones/54/scale = Vector3(1.0000002, 0.99999994, 1)
bones/55/rotation = Quaternion(-2.0489097e-08, 5.587934e-09, -1.05239465e-07, 1)
bones/55/scale = Vector3(1, 0.99999976, 1)
bones/59/rotation = Quaternion(0.050901476, 4.3654723e-08, -2.2249735e-09, 0.9987037)
bones/65/rotation = Quaternion(-0.01572143, 0.728471, 0.68469197, -0.016726647)
bones/66/rotation = Quaternion(0.04670843, -5.592393e-25, 3.380901e-25, 0.9989086)
bones/71/rotation = Quaternion(-0.0008384392, -1.4520126e-08, -1.4520117e-08, 0.99999964)
bones/73/rotation = Quaternion(-0.47714752, -0.26202866, 0.103676714, 0.8324196)
bones/74/rotation = Quaternion(-4.4951342e-08, -1.0230535e-07, 0.20821644, 0.9780828)
bones/76/rotation = Quaternion(-0.34109625, 0.037160248, -0.03922498, 0.9384742)
bones/79/rotation = Quaternion(-0.39641887, -0.1813848, 0.043072537, 0.8989418)
bones/81/rotation = Quaternion(0.676713, 0.0434117, 0.73474646, -0.017966317)
bones/81/scale = Vector3(0.26566446, 14.168806, 0.26566434)
bones/83/rotation = Quaternion(-0.44826582, -0.2564256, 0.07673638, 0.85288644)
bones/84/rotation = Quaternion(-4.2892925e-08, -9.165053e-08, 0.20821644, 0.9780828)
bones/85/rotation = Quaternion(-0.39786372, -0.022108251, -0.026602106, 0.91679233)
bones/89/rotation = Quaternion(-0.44664517, 0.23925185, 0.010971651, 0.8620594)
bones/90/rotation = Quaternion(-3.046862e-08, -2.5304812e-08, -0.4368198, 0.899549)
bones/91/rotation = Quaternion(-0.3271414, 0.21709307, -0.14147297, 0.90875447)
bones/92/rotation = Quaternion(-0.5245751, -0.4741359, 0.5245921, -0.47415105)
bones/93/rotation = Quaternion(-0.6106651, -0.30261493, 0.7317145, -0.010313377)
bones/93/scale = Vector3(0.2023797, 24.41553, 0.2023797)
bones/95/rotation = Quaternion(-0.31060135, -0.04396146, -0.029112514, 0.9490767)
bones/96/rotation = Quaternion(0.0072086607, 0.9971747, 0.046327475, -0.058690146)
bones/99/rotation = Quaternion(-0.41617158, 0.22964737, 0.037466694, 0.87901056)
bones/100/rotation = Quaternion(-1.3394021e-08, -2.4805406e-08, -0.4368199, 0.899549)
bones/101/rotation = Quaternion(-0.35181487, -0.011887793, -0.05711724, 0.93424976)
bones/104/rotation = Quaternion(0.46313006, 0.3148578, 0.7748863, -0.29313183)
bones/106/rotation = Quaternion(2.5622239e-08, 1.0779932e-08, -0.5083463, 0.86115277)
bones/109/rotation = Quaternion(-0.02231234, -0.120216265, 0.08642456, 0.988727)
bones/110/position = Vector3(0.3692976, 0.6137025, 2.039477e-07)
bones/110/rotation = Quaternion(0.0034038913, -0.005797797, 0.5062824, 0.86234164)
bones/112/rotation = Quaternion(0.5589734, -0.24125315, -0.74325025, -0.27735308)
bones/113/rotation = Quaternion(-3.8281545e-08, -1.10093005e-07, 0.44141406, 0.8973035)
bones/116/rotation = Quaternion(0.0072606034, 0.05526627, 0.036690168, 0.9977709)
bones/118/position = Vector3(-0.33413497, 0.66732943, 9.005643e-08)
bones/118/rotation = Quaternion(0.0036356312, 0.0056551998, -0.54075396, 0.841154)
bones/121/position = Vector3(-2.6645353e-15, 0.4087947, 4.8153334)
bones/121/rotation = Quaternion(2.762241e-08, 0.77080405, 0.63707227, 5.6231862e-08)
bones/122/rotation = Quaternion(3.637978e-09, 4.643328e-08, 2.7907976e-15, 1)
bones/124/position = Vector3(-0.6534301, 0.27638534, 1.2930491)
bones/124/rotation = Quaternion(-0.4839384, -0.41706476, 0.6514465, 0.40924087)
bones/124/scale = Vector3(0.9999999, 0.9999997, 0.9999998)
bones/125/rotation = Quaternion(-1.583248e-08, 1.4249237e-07, -1.3038533e-08, 1)
bones/126/position = Vector3(0.6534301, 0.27638504, 1.2930491)
bones/126/rotation = Quaternion(0.48393837, -0.4170648, 0.65144634, -0.40924117)
bones/126/scale = Vector3(0.9999999, 0.9999996, 1)
bones/127/rotation = Quaternion(7.4505895e-09, 1.7043205e-07, -1.5832496e-08, 1)
bones/128/position = Vector3(-0.5715852, 0.1837657, 1.6517502)
bones/128/rotation = Quaternion(-0.34559622, -0.5373106, 0.5084312, 0.5773719)
bones/128/scale = Vector3(1, 1.0000002, 1.0000002)
bones/129/position = Vector3(0.5715852, 0.1837655, 1.6517501)
bones/129/rotation = Quaternion(-0.3455963, 0.5373105, -0.5084313, 0.57737184)
bones/129/scale = Vector3(1, 0.99999994, 1.0000001)
bones/130/position = Vector3(-1.1225184, 0.2757135, 4.226865)
bones/130/rotation = Quaternion(-0.4532444, -0.026230715, 0.5474738, 0.7029609)
bones/131/position = Vector3(1.0963118, 0.19708557, 4.21173)
bones/131/rotation = Quaternion(-0.46964887, 0.09421898, -0.61684597, 0.62454295)
bones/132/position = Vector3(-1.4282757, 0.2714851, 3.9538918)
bones/132/rotation = Quaternion(-0.37697825, -0.2529935, 0.11411096, 0.88366306)
bones/133/rotation = Quaternion(-7.04297e-08, -0.11606766, 4.9067477e-08, 0.9932413)
bones/134/position = Vector3(1.3758621, 0.11422899, 3.9236224)
bones/134/rotation = Quaternion(-0.37982804, 0.2918528, -0.2778156, 0.83268917)
bones/135/rotation = Quaternion(-6.586336e-08, 0.048250053, -2.8018357e-08, 0.9988354)
bones/136/position = Vector3(-1.4282755, 0.27148506, 3.9538915)
bones/136/rotation = Quaternion(-0.37697837, -0.25299358, 0.11411086, 0.88366306)
bones/137/rotation = Quaternion(0.004953337, -0.11866527, 0.027897783, 0.99253)
bones/184/position = Vector3(1.3758622, 0.114228934, 3.9236226)
bones/184/rotation = Quaternion(-0.37982807, 0.29185277, -0.2778157, 0.83268917)
bones/185/rotation = Quaternion(0.037966073, 0.05126975, 0.09334152, 0.9935882)
bones/236/position = Vector3(2.3942084, 3.5282958, -1.429168)
bones/237/position = Vector3(-1.7487458, 4.460675, -0.84585637)
bones/238/position = Vector3(-0.75590354, 0.5498041, 0.025475739)
bones/243/rotation = Quaternion(-2.0510141e-08, -6.705522e-08, 4.469017e-08, 1)
bones/251/rotation = Quaternion(0.56129915, -5.303983e-08, 0.82761306, -9.4032984e-08)
bones/256/position = Vector3(-0.7694401, 1.2804791, 1.0261577)
bones/257/position = Vector3(0.75590354, 0.5498041, 0.025475726)
bones/257/rotation = Quaternion(0.085681744, 0.70189464, 0.70189655, -0.085696645)
bones/260/rotation = Quaternion(-0.02751603, -0.4699145, 0.1700521, -0.8657399)
bones/261/rotation = Quaternion(6.8488454e-08, -0.7071063, 6.0586096e-08, 0.70710737)
bones/262/rotation = Quaternion(4.473516e-08, 7.45058e-08, -8.194059e-08, 1)
bones/274/rotation = Quaternion(1, -3.4222094e-09, -9.685755e-08, -5.989848e-08)
bones/275/position = Vector3(0.7694401, 1.280479, 1.0261577)
bones/275/rotation = Quaternion(0, 0.7875847, 0, 0.6162064)
bones/276/position = Vector3(-1.5034978, 3.0292325, 0.16728224)
bones/277/position = Vector3(1.4935219, 3.1655252, 0.30431116)

[node name="Torus" parent="Node3D/ClownPlayer/rig/Skeleton3D" index="1"]
surface_material_override/0 = ExtResource("3_dqkch")

[node name="mask" type="Sprite3D" parent="Node3D/ClownPlayer"]
transform = Transform3D(-0.4, 0, -9.539903e-09, 0, 0.4, 0, 9.539903e-09, 0, -0.4, 1.05133964e-07, 5.457909, 1.2025924)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
visible = false
mesh = SubResource("CapsuleMesh_klq6b")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_b121j")

[node name="CameraPivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.90630776, -0.42261827, 0, 0.42261827, 0.90630776, 0, 1.75, 0)

[node name="SpringArm3D" type="SpringArm3D" parent="CameraPivot"]
spring_length = 3.0

[node name="Camera3D" type="Camera3D" parent="CameraPivot/SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 0.8660255, 0.50000006, 0, -0.50000006, 0.8660255, 0, 0, 0)
size = 4.0

[node name="Puff" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.2375376, 0.22046828)
emitting = false
amount = 30
one_shot = true
explosiveness = 1.0
process_material = SubResource("ParticleProcessMaterial_dqkch")
draw_pass_1 = SubResource("PlaneMesh_tuyoq")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.0748949, 0)
light_energy = 0.25
omni_range = 3.0

[editable path="Node3D/ClownPlayer"]
